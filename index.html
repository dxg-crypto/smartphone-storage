<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ストレージ容量ピッタリ診断</title>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX compilation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Noto+Sans+JP:wght@400;500;700;900&display=swap');
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #ffffff;
            border: 2px solid currentColor;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- Inline SVG Icons (Replacing Lucide to fix loading errors) ---
        const IconCamera = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
        );
        const IconVideo = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m22 8-6 4 6 4V8Z"/><rect width="14" height="12" x="2" y="6" rx="2" ry="2"/></svg>
        );
        const IconGamepad = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="6" x2="10" y1="12" y2="12"/><line x1="8" x2="8" y1="10" y2="14"/><line x1="15" x2="15.01" y1="13" y2="13"/><line x1="18" x2="18.01" y1="11" y2="11"/><rect width="20" height="12" x="2" y="6" rx="2"/></svg>
        );
        const IconHardDrive = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="20" height="8" x="2" y="3" rx="2"/><rect width="20" height="8" x="2" y="13" rx="2"/><line x1="6" x2="6" y1="7" y2="7"/><line x1="6" x2="6" y1="17" y2="17"/></svg>
        );
        const IconInfo = ({ size = 14, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        );
        const IconCheckCircle = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        );
        const IconAlertCircle = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
        );

        const App = () => {
            const [photosPerMonth, setPhotosPerMonth] = useState(100);
            const [videoSdMinutes, setVideoSdMinutes] = useState(10);
            const [video4kMinutes, setVideo4kMinutes] = useState(5);
            const [appLevel, setAppLevel] = useState('standard');

            const PHOTO_SIZE = 5;
            const VIDEO_SD_SIZE = 150;
            const VIDEO_4K_SIZE = 400;
            const SYSTEM_SIZE = 30 * 1024;

            const APP_SIZES = {
                low: 10 * 1024,
                standard: 30 * 1024,
                high: 100 * 1024,
            };

            const calculations = useMemo(() => {
                const monthlyUsageMB = 
                    (photosPerMonth * PHOTO_SIZE) + 
                    (videoSdMinutes * VIDEO_SD_SIZE) + 
                    (video4kMinutes * VIDEO_4K_SIZE);

                const year1TotalGB = (SYSTEM_SIZE + APP_SIZES[appLevel] + (monthlyUsageMB * 12)) / 1024;
                const year2TotalGB = (SYSTEM_SIZE + APP_SIZES[appLevel] + (monthlyUsageMB * 24)) / 1024;

                let recommendation = "128GB";
                let color = "text-emerald-600";
                let advice = "現在の利用ペースであれば、標準的な128GBモデルでも十分余裕を持ってご利用いただけます。";

                if (year2TotalGB > 450) {
                    recommendation = "1TB";
                    color = "text-purple-600";
                    advice = "非常に多くのデータを保存される予定です。1TBモデルなら、容量不足を気にせず最高画質の動画もたくさん残せます。";
                } else if (year2TotalGB > 220) {
                    recommendation = "512GB";
                    color = "text-blue-600";
                    advice = "動画撮影やゲームを頻繁に楽しまれる方に最適です。数年先を見越して512GBを選んでおくと安心です。";
                } else if (year2TotalGB > 100) {
                    recommendation = "256GB";
                    color = "text-indigo-600";
                    advice = "写真や動画が少しずつ増えていくことを考えると、256GBが最もコストパフォーマンスが良く、長く快適に使えます。";
                }

                return {
                    year1: Math.round(year1TotalGB),
                    year2: Math.round(year2TotalGB),
                    recommendation,
                    color,
                    advice,
                    monthly: (monthlyUsageMB / 1024).toFixed(1)
                };
            }, [photosPerMonth, videoSdMinutes, video4kMinutes, appLevel]);

            return (
                <div className="min-h-screen text-slate-900 p-4 md:p-8">
                    <div className="max-w-2xl mx-auto">
                        <header className="text-center mb-8">
                            <h1 className="text-2xl md:text-3xl font-bold text-slate-800 mb-2 flex items-center justify-center gap-2">
                                <IconHardDrive className="text-blue-500" />
                                ストレージ容量ピッタリ診断
                            </h1>
                            <p className="text-slate-500 text-sm">お客様のライフスタイルに合わせた最適なスマホ容量を算出します</p>
                        </header>

                        <div className="space-y-6">
                            <section className="bg-white rounded-3xl shadow-sm border border-slate-100 p-6 space-y-8">
                                <div className="space-y-4">
                                    <div className="flex items-center justify-between">
                                        <div className="flex items-center gap-3">
                                            <div className="p-2 bg-orange-100 rounded-lg text-orange-600">
                                                <IconCamera />
                                            </div>
                                            <label className="font-bold text-slate-700">写真の撮影（月間）</label>
                                        </div>
                                        <span className="text-xl font-mono font-bold text-orange-600">{photosPerMonth}<small className="text-xs ml-1 text-slate-400">枚</small></span>
                                    </div>
                                    <input 
                                        type="range" min="0" max="1000" step="10" 
                                        value={photosPerMonth} 
                                        onChange={(e) => setPhotosPerMonth(parseInt(e.target.value))}
                                        className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer text-orange-500"
                                    />
                                    <div className="flex justify-between text-xs text-slate-400 px-1">
                                        <span>0枚</span>
                                        <span>500枚</span>
                                        <span>1000枚以上</span>
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    <div className="flex items-center justify-between">
                                        <div className="flex items-center gap-3">
                                            <div className="p-2 bg-blue-100 rounded-lg text-blue-600">
                                                <IconVideo />
                                            </div>
                                            <label className="font-bold text-slate-700">通常動画の撮影（月間）</label>
                                        </div>
                                        <span className="text-xl font-mono font-bold text-blue-600">{videoSdMinutes}<small className="text-xs ml-1 text-slate-400">分</small></span>
                                    </div>
                                    <input 
                                        type="range" min="0" max="120" step="5" 
                                        value={videoSdMinutes} 
                                        onChange={(e) => setVideoSdMinutes(parseInt(e.target.value))}
                                        className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer text-blue-500"
                                    />
                                    <div className="flex justify-between text-xs text-slate-400 px-1">
                                        <span>なし</span>
                                        <span>1時間</span>
                                        <span>2時間〜</span>
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    <div className="flex items-center justify-between">
                                        <div className="flex items-center gap-3">
                                            <div className="p-2 bg-red-100 rounded-lg text-red-600">
                                                <IconVideo />
                                            </div>
                                            <label className="font-bold text-slate-700">高画質/4K動画の撮影（月間）</label>
                                        </div>
                                        <span className="text-xl font-mono font-bold text-red-600">{video4kMinutes}<small className="text-xs ml-1 text-slate-400">分</small></span>
                                    </div>
                                    <input 
                                        type="range" min="0" max="60" step="1" 
                                        value={video4kMinutes} 
                                        onChange={(e) => setVideo4kMinutes(parseInt(e.target.value))}
                                        className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer text-red-500"
                                    />
                                    <div className="flex justify-between text-xs text-slate-400 px-1">
                                        <span>なし</span>
                                        <span>30分</span>
                                        <span>1時間以上</span>
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    <div className="flex items-center gap-3 mb-2">
                                        <div className="p-2 bg-purple-100 rounded-lg text-purple-600">
                                            <IconGamepad />
                                        </div>
                                        <label className="font-bold text-slate-700">アプリ・ゲームの利用量</label>
                                    </div>
                                    <div className="grid grid-cols-3 gap-3">
                                        {[
                                            { id: 'low', label: '少ない', sub: 'SNS中心' },
                                            { id: 'standard', label: '標準', sub: '色々使う' },
                                            { id: 'high', label: '多い', sub: 'ゲーム中心' }
                                        ].map((item) => (
                                            <button
                                                key={item.id}
                                                onClick={() => setAppLevel(item.id)}
                                                className={`flex flex-col items-center justify-center p-3 rounded-2xl border-2 transition-all ${
                                                    appLevel === item.id 
                                                        ? 'border-purple-500 bg-purple-50 text-purple-700 shadow-md ring-2 ring-purple-200 ring-opacity-50' 
                                                        : 'border-slate-100 bg-white text-slate-500 hover:border-slate-200'
                                                }`}
                                            >
                                                <span className="text-sm font-bold">{item.label}</span>
                                                <span className="text-[10px] opacity-70">{item.sub}</span>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </section>

                            <section className="space-y-4">
                                <div className="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100 transition-all duration-500">
                                    <div className="bg-slate-800 p-4 text-white flex justify-between items-center">
                                        <span className="font-bold text-sm">診断結果レポート</span>
                                        <div className="px-3 py-1 bg-white/20 rounded-full text-[10px] backdrop-blur-md font-mono">
                                            Monthly: +{calculations.monthly}GB
                                        </div>
                                    </div>
                                    
                                    <div className="p-8">
                                        <div className="text-center mb-8">
                                            <p className="text-slate-500 text-sm mb-1 font-medium text-blue-500 uppercase tracking-widest">Estimated Usage (2 years)</p>
                                            <div className="flex items-baseline justify-center gap-1">
                                                <span className="text-7xl font-black tracking-tighter text-slate-800">{calculations.year2}</span>
                                                <span className="text-2xl font-bold text-slate-400">GB</span>
                                            </div>
                                            <div className="mt-4 inline-flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-full text-[11px] text-slate-500 border border-slate-100">
                                                <IconInfo size={14} className="text-slate-400" />
                                                <span>OS・基本システム(30GB)込</span>
                                            </div>
                                        </div>

                                        <div className="relative p-6 bg-gradient-to-br from-slate-50 to-white rounded-2xl border-2 border-dashed border-slate-200 text-center">
                                            <div className="absolute -top-3 left-1/2 -translate-x-1/2 bg-white px-4 text-[10px] font-bold text-slate-400 tracking-widest uppercase">
                                                Recommended Capacity
                                            </div>
                                            <p className="text-slate-600 text-sm mb-2">おすすめの端末容量</p>
                                            <p className={`text-6xl font-black mb-4 ${calculations.color}`}>
                                                {calculations.recommendation}
                                            </p>
                                            
                                            <div className="flex items-start gap-3 text-left p-4 bg-white rounded-xl shadow-sm border border-slate-100">
                                                <IconCheckCircle className={`shrink-0 mt-0.5 ${calculations.color}`} />
                                                <p className="text-sm leading-relaxed text-slate-600 italic">
                                                    「{calculations.advice}」
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="px-8 pb-8 space-y-3">
                                        <div className="flex justify-between text-[10px] font-bold text-slate-400 px-1 uppercase tracking-tighter">
                                            <span>Initial</span>
                                            <span>1 Year</span>
                                            <span>2 Years</span>
                                        </div>
                                        <div className="relative h-5 bg-slate-100 rounded-full overflow-hidden p-1">
                                            <div className="h-full bg-blue-600 rounded-full transition-all duration-1000 ease-out shadow-[0_0_10px_rgba(37,99,235,0.3)]" style={{ width: `${Math.max(10, Math.min(100, (calculations.year2 / 512) * 100))}%` }}></div>
                                        </div>
                                        <div className="flex justify-between text-[10px] font-mono text-slate-400">
                                            <span>{(SYSTEM_SIZE/1024).toFixed(0)}GB</span>
                                            <span>{calculations.year1}GB</span>
                                            <span>{calculations.year2}GB</span>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-amber-50 rounded-2xl p-4 border border-amber-100 flex gap-3">
                                    <IconAlertCircle className="text-amber-500 shrink-0" />
                                    <div>
                                        <p className="text-amber-800 text-xs font-bold mb-1">接客のポイント</p>
                                        <ul className="text-amber-700 text-[11px] space-y-1 list-disc list-inside">
                                            <li>「数年使うとOSのアップデートでも容量が少しずつ増えます」</li>
                                            <li>「お子様が生まれたり趣味が増えると、今の予想より増える場合が多いです」</li>
                                            <li>「iCloudやGoogleドライブ等のクラウド活用も併せてご提案ください」</li>
                                        </ul>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <footer className="mt-12 text-center text-slate-400 text-[10px] pb-8 uppercase tracking-widest">
                            &copy; 2024 Storage Perfect Diagnosis Service
                        </footer>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
